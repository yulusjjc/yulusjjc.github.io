{"meta":{"title":"yulusjjc","subtitle":"","description":"我的站点","author":"yulu","url":"http://www.aiyulu.com.cn"},"pages":[{"title":"tags","date":"2017-07-05T06:10:07.000Z","updated":"2017-07-05T06:10:07.692Z","comments":true,"path":"tags/index.html","permalink":"http://www.aiyulu.com.cn/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"JavaScript 常用技巧","slug":"javascript-skill","date":"2017-07-05T07:45:22.000Z","updated":"2017-07-07T03:23:28.287Z","comments":true,"path":"2017/07/javascript-skill/","link":"","permalink":"http://www.aiyulu.com.cn/2017/07/javascript-skill/","excerpt":"","text":"Javascript技巧禁止右键点击12345$(document).ready(function()&#123; $(document).bind(\"contextmenu\",function(e)&#123; return false; &#125;);&#125;); 在新窗口中打开链接 XHTML 1.0 Strict doesn’t allow this attribute in the code, so use this to keep the code valid. 12345678910//Example 1: Every link will open in a new window$(document).ready(function() &#123; $('a[href^=\"http://\"]').attr(\"target\", \"_blank\"); //Example 2: Links with the rel=\"external\" attribute will only open in a new window $('a[@rel$='external']').click(function()&#123; this.target = \"_blank\"; &#125;);&#125;);// how to use&lt;a href=\"http://www.opensourcehunter.com\" rel=external&gt;open link&lt;/a&gt; ###检测浏览器 注: 在版本jQuery 1.4中，$.support 替换掉了$.browser 变量 123456789101112131415161718192021222324252627282930$(document).ready(function() &#123; // Target Firefox 2 and above if ($.browser.mozilla &amp;&amp; $.browser.version &gt;= \"1.8\" )&#123; // do something &#125; // Target Safari if( $.browser.safari )&#123; // do something &#125; // Target Chrome if( $.browser.chrome)&#123; // do something &#125; // Target Camino if( $.browser.camino)&#123; // do something &#125; // Target Opera if( $.browser.opera)&#123; // do something &#125; // Target IE6 and below if ($.browser.msie &amp;&amp; $.browser.version &lt;= 6 )&#123; // do something &#125; // Target anything above IE6 if ($.browser.msie &amp;&amp; $.browser.version &gt; 6)&#123; // do something &#125;&#125;); 预加载图片 This piece of code will prevent the loading of all images, which can be useful if you have a site with lots of images. 123456789$(document).ready(function() &#123; jQuery.preloadImages = function()&#123; for(var i = 0; i&lt;ARGUMENTS.LENGTH;)&#123; jQuery(?&lt;img &#123; i++)&gt;\").attr(\"src\", arguments); &#125; &#125; // how to use $.preloadImages(\"image1.jpg\");&#125;); ###页面样式切换12345678910111213$(document).ready(function() &#123; $(\"a.Styleswitcher\").click(function() &#123; //swicth the LINK REL attribute with the value in A REL attribute $('link[rel=stylesheet]').attr('href' , $(this).attr('rel')); &#125;);// how to use// place this in your header&lt;LINK rel=stylesheet type=text/css href=\"default.css\"&gt;// the links&lt;A href=\"#\" rel=default.css&gt;Default Theme&lt;/A&gt;&lt;A href=\"#\" rel=red.css&gt;Red Theme&lt;/A&gt;&lt;A href=\"#\" rel=blue.css&gt;Blue Theme&lt;/A&gt;&#125;); ###列高度相同 如果使用了两个CSS列，使用此种方式可以是两列的高度相同。 1234567891011121314151617$(document).ready(function() &#123; function equalHeight(group) &#123; tallest = 0; group.each(function() &#123; thisHeight = $(this).height(); if(thisHeight &gt; tallest) &#123; tallest = thisHeight; &#125; &#125;); group.height(tallest); &#125; // how to use $(document).ready(function() &#123; equalHeight($(\".left\")); equalHeight($(\".right\")); &#125;);&#125;); 动态控制页面字体大小 用户可以改变页面字体大小 1234567891011121314151617181920212223$(document).ready(function() &#123; // Reset the font size(back to default) var originalFontSize = $('html').css('font-size'); $(\".resetFont\").click(function() &#123; $('html').css('font-size', originalFontSize); &#125;); // Increase the font size(bigger font0 $(\".increaseFont\").click(function() &#123; var currentFontSize = $('html').css('font-size'); var currentFontSizeNum = parseFloat(currentFontSize, 10); var newFontSize = currentFontSizeNum * 1.2; $('html').css('font-size', newFontSize); return false; &#125;); // Decrease the font size(smaller font) $(\".decreaseFont\").click(function() &#123; var currentFontSize = $('html').css('font-size'); var currentFontSizeNum = parseFloat(currentFontSize, 10); var newFontSize = currentFontSizeNum * 0.8; $('html').css('font-size', newFontSize); return false; &#125;);&#125;); 返回页面顶部功能 For a smooth(animated) ride back to the top(or any location). 123456789101112131415161718192021$(document).ready(function() &#123; $('a[href*=#]').click(function() &#123; if (location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') &amp;&amp; location.hostname == this.hostname) &#123; var $target = $(this.hash); $target = $target.length &amp;&amp; $target || $('[name=' + this.hash.slice(1) + ']'); if ($target.length) &#123; var targetOffset = $target.offset().top; $('html,body') .animate(&#123; scrollTop: targetOffset &#125;, 900); return false; &#125; &#125; &#125;); // how to use // place this where you want to scroll to &lt; A name = top &gt; &lt; /A&gt; // the link &lt; A href = \"#top\" &gt; go to top &lt; /A&gt;&#125;); 获得鼠标指针XY值 Want to know where your mouse cursor is? 12345678$(document).ready(function() &#123; $().mousemove(function(e) &#123; //display the x and y axis values inside the div with the id XY $('#XY').html(\"X Axis : \" + e.pageX + \" | Y Axis \" + e.pageY); &#125;); // how to use &lt; div id = \"XY\" &gt; &lt; /div&gt;&#125;); ###返回顶部按钮 你可以利用 animate 和 scrollTop 来实现返回顶部的动画，而不需要使用其他插件。 123456789// Back to top$('a.top').click(function() &#123; $(document.body).animate(&#123; scrollTop: 0 &#125;, 800); return false;&#125;);&lt;!-- Create an anchor tag --&gt;&lt; a href = \"#\" &gt; Back to top &lt; /a&gt; 改变 scrollTop 的值可以调整返回距离顶部的距离，而 animate 的第二个参数是执行返回动作需要的时间(单位：毫秒)。 ###预加载图片 如果你的页面中使用了很多不可见的图片（如：hover 显示），你可能需要预加载它们： 123456$.preloadImages = function() &#123; for (var i = 0; i &lt; arguments.length; i++) &#123; $('&lt;img&gt;').attr('src', arguments); &#125;&#125;;$.preloadImages('img/hover1.png', 'img/hover2.png'); ###检查图片是否加载完成 有时候你需要确保图片完成加载完成以便执行后面的操作： 123$('img').load(function () &#123; console.log('image load successful');&#125;); 你可以把 img 替换为其他的 ID 或者 class 来检查指定图片是否加载完成。 ###自动修改破损图像 如果你碰巧在你的网站上发现了破碎的图像链接，你可以用一个不易被替换的图像来代替它们。添加这个简单的代码可以节省很多麻烦： 123$('img').on('error', function () &#123; $(this).prop('src', 'img/broken.png');&#125;); 即使你的网站没有破碎的图像链接，添加这段代码也没有任何害处。 ###鼠标悬停(hover)切换 class 属性 假如当用户鼠标悬停在一个可点击的元素上时，你希望改变其效果，下面这段代码可以在其悬停在元素上时添加 class 属性，当用户鼠标离开时，则自动取消该 class 属性： 12345$('.btn').hover(function() &#123; $(this).addClass('hover');&#125;, function() &#123; $(this).removeClass('hover');&#125;); 你只需要添加必要的CSS代码即可。如果你想要更简洁的代码，可以使用 toggleClass 方法：123$('.btn').hover(function() &#123; $(this).toggleClass('hover');&#125;); 注：直接使用CSS实现该效果可能是更好的解决方案，但你仍然有必要知道该方法。 ###禁用 input 字段 有时你可能需要禁用表单的 submit 按钮或者某个 input 字段，直到用户执行了某些操作（例如，检查“已阅读条款”复选框）。可以添加 disabled 属性，直到你想启用它时： 1$('input[type=\"submit\"]').prop('disabled', true); 你要做的就是执行 removeAttr 方法，并把要移除的属性作为参数传入：1$('input[type=\"submit\"]').removeAttr('disabled'); ###阻止链接加载 有时你不希望链接到某个页面或者重新加载它，你可能希望它来做一些其他事情或者触发一些其他脚本，你可以这么做： 123$('a.no-link').click(function (e) &#123; e.preventDefault();&#125;); ###切换 fade/slide fade 和 slide 是我们在 jQuery 中经常使用的动画效果，它们可以使元素显示效果更好。但是如果你希望元素显示时使用第一种效果，而消失时使用第二种效果，则可以这么做： 12345678// Fade$('.btn').click(function () &#123; $('.element').fadeToggle('slow');&#125;);// Toggle$('.btn').click(function () &#123; $('.element').slideToggle('slow');&#125;); ###简单的手风琴效果 这是一个实现手风琴效果快速简单的方法： 123456789// Close all panels$('#accordion').find('.content').hide();// Accordion$('#accordion').find('.accordion-header').click(function () &#123; var next = $(this).next(); next.slideToggle('fast'); $('.content').not(next).slideUp('fast'); return false;&#125;); ###让两个 DIV 高度相同 有时你需要让两个 div 高度相同，而不管它们里面的内容多少。可以使用下面的代码片段： 12345678var $columns = $('.column');var height = 0;$columns.each(function () &#123; if ($(this).height() &gt; height) &#123; height = $(this).height(); &#125;&#125;);$columns.height(height); 这段代码会循环一组元素，并设置它们的高度为元素中的最大高。 验证元素是否为空 This will allow you to check if an element is empty. 12345$(document).ready(function() &#123; if ($('#id').html()) &#123; // do something &#125;&#125;); 替换元素12345$(document).ready(function() &#123; $('#id').replaceWith(' &lt;DIV&gt;I have been replaced&lt;/DIV&gt; ');&#125;); jQuery延时加载功能12345$(document).ready(function() &#123; window.setTimeout(function() &#123; // do something &#125;, 1000);&#125;); ###移除单词功能1234$(document).ready(function() &#123; var el = $('#id'); el.html(el.html().replace(/word/ig, \"\"));&#125;); ###验证元素是否存在于jquery对象集合中12345$(document).ready(function() &#123; if ($('#id').length) &#123; // do something &#125;&#125;); ###使整个DIV可点击12345678$(document).ready(function() &#123; $(\"div\").click(function()&#123; //get the url from href attribute and launch the url window.location=$(this).find(\"a\").attr(\"href\"); return false; &#125;);&#125;);// how to use&lt;div&gt;&lt;a href=\"index.html\"&gt;home&lt;/a&gt;&lt;/div&gt; ###ID与Class之间转换当改变Window大小时，在ID与Class之间切换1234567891011$(document).ready(function() &#123; function checkWindowSize() &#123; if ( $(window).width() &gt; 1200 ) &#123; $('body').addClass('large'); &#125; else &#123; $('body').removeClass('large'); &#125; &#125; $(window).resize(checkWindowSize);&#125;); ###克隆对象12345$(document).ready(function() &#123; var cloned = $('#id').clone();&#125;);// how to use&lt;DIV id=id&gt;&lt;/DIV&gt; 使元素居屏幕中间位置123456789$(document).ready(function() &#123; jQuery.fn.center = function () &#123; this.css(\"position\",\"absolute\"); this.css(\"top\", ( $(window).height() - this.height() ) / 2+$(window).scrollTop() + \"px\"); this.css(\"left\", ( $(window).width() - this.width() ) / 2+$(window).scrollLeft() + \"px\"); return this; &#125; $(\"#id\").center();&#125;); ###写自己的选择器1234567891011$(document).ready(function() &#123; $.extend($.expr[':'], &#123; moreThen1000px: function(a) &#123; return $(a).width() &gt; 1000; &#125; &#125;); $('.box:moreThen1000px').click(function() &#123; // creating a simple js alert box alert('The element that you have clicked is over 1000 pixels wide'); &#125;);&#125;); ###统计元素个数123$(document).ready(function() &#123; $(\"p\").size();&#125;); 使用自己的 Bullets123456$(document).ready(function() &#123; $(\"ul\").addClass(\"Replaced\"); $(\"ul &gt; li\").prepend(\"? \");&#125;);// how to useul.Replaced &#123; list-style : none; &#125; ###引用Google主机上的Jquery类库（谷歌用不了，可以用百度CDN）1234567891011//Example 1&lt;script src=\"http://www.google.com/jsapi\"&gt;&lt;/script&gt;&lt;script type=text/javascript&gt; google.load(\"jquery\", \"1.2.6\"); google.setOnLoadCallback(function() &#123; // do something &#125;);&lt;/script&gt;&lt;script type=text/javascript src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js\"&gt;&lt;/script&gt;// Example 2:(the best and fastest way&lt;script type=text/javascript src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js\"&gt;&lt;/script&gt; ###禁用Jquery（动画）效果123$(document).ready(function() &#123; jQuery.fx.off = true;&#125;); 与其他Javascript类库冲突解决方案1234$(document).ready(function() &#123; var $jq = jQuery.noConflict(); $jq('#id').show();&#125;); ###div下有不明空白1div&#123;font-size:0;&#125; 将json数据转换成字符（用于与后端通信传输）12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/** * 将数据转换成字符串 * @param &#123;Object&#125; data：转换的数据,例如：var data = [&#123;param:1,param2:\"2\"&#125;,&#123;param:3,param2:\"4\"&#125;] * @return &#123;TypeName&#125; 返回转换后的字符串 */parserDataString = function (data) &#123; var str = \"\"; //private object for parser data var parse = &#123; //json parser to string json2String:function(json) &#123; var str = \"&#123;\"; for(var key in json) &#123; str += '\"' + key + '\":' + parse.jsonOrArray(json[key]) + ','; &#125; if(str.length &gt; 2) str = str.substring(0,str.length - 1); str += \"&#125;\"; return str; &#125;, //array parser to string array2String:function(array) &#123; var str = \"[\"; for(var i=0; i&lt;array.length; i++) &#123; if(i != 0) str += \",\"; str += parse.jsonOrArray(array[i]); &#125; str += \"]\"; return str; &#125;, //array or json jsonOrArray:function(value)&#123; if(\"[object Array]\" == Object.prototype.toString.call(value))&#123; return parse.array2String(value); &#125;else if(\"[object Object]\" == Object.prototype.toString.call(value))&#123; return parse.json2String(value); &#125;else&#123; if(\"[object Number]\" == Object.prototype.toString.call(value)) &#123; return value; &#125; else &#123; return \"\\\"\"+value+\"\\\"\"; &#125; &#125; &#125; &#125; if(typeof data == \"undefined\") &#123; return; &#125; return parse.jsonOrArray(data);&#125; ###打印网页的内容1234567891011121314//打印页面中某个区域，//1.保存页面中的内容//2.获取页面中指定区域的内容//3.把页面中指定的内容填充到整个页面//4.页面打印//5.页面还原function printme() &#123; var global_Html = document.body.innerHTML; document.body.innerHTML = document.getElementById('divPrint').innerHTML; window.print(); window.setTimeout(function () &#123; document.body.innerHTML = global_Html; &#125;, 1500); &#125; 持续更新中…","categories":[],"tags":[]}]}